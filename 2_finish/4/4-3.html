<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>4.3</title>
		<meta name="viewport" content="width=device-width">
		<style>
			#canvas{border:1px solid gray;}
		</style>
	</head>

	<body>
		<p><canvas id="canvas" width="600" height="600"></canvas></p>

		<script>
			const CANVAS = document.getElementById("canvas");
			const CTX = CANVAS.getContext("2d");
		
			const OBAKE = {x:300, y:300, dx:1, dy:1, s:100};
		
			const IMG=new Image();
			IMG.src="image.png";
		
			setInterval(loop, 50);
		
			function loop(){
		
				//①消去
				CTX.clearRect(0, 0, 600, 600);
		
				//②描画
				CTX.drawImage(IMG, OBAKE.x, OBAKE.y, OBAKE.s, OBAKE.s);
		
				//③計算
				OBAKE.x += OBAKE.dx;
				OBAKE.y += OBAKE.dy;
				if(OBAKE.x<0 || 500<OBAKE.x){OBAKE.dx *= -1;}
				if(OBAKE.y<0 || 500<OBAKE.y){OBAKE.dy *= -1;}
			}
		</script>
	</body>
</html>